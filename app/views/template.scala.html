@(title: String = "Title")(content: Html)(implicit session: play.api.mvc.Session, flash: play.api.mvc.Flash)


@user_id = @{session.get("id").map(_.toInt)}


<!DOCTYPE html>

<html>
    <head>
    	<meta charset="utf-8">
        <link href="@routes.Assets.at("stylesheets/bootstrap.css")" rel="stylesheet" media="screen">
        <script type="text/javascript" src="@routes.Application.javascriptRoutes"></script>
        <script src="@routes.Assets.at("javascripts/jquery-1.9.0.min.js")" type="text/javascript"></script>
     
         <!--  
        <style type="text/css">
        body {
            background-color: #CCC;
        }
        table{
            border: 0.13em solid black;
        }
        th, td{
            border: 1px solid gray;
        }
        </style>
    -->
    </head>



    <body>
    	<div class ="container">
    		<div class = "navbar">
    			<div class = "navbar-inner">
    				<ul class = "nav">
    					<li><a href="@routes.IncidentBrowser.getIncidents()">Browse</a></li>
    					<li><a href="@routes.IncidentCreator.addIncident">Create</a></li>
                        <li><a href="@routes.TeamInfo.teamList">Teams</a></li>
                        <li><a href="@routes.UserInfo.userList">Users</a></li>
    				</ul>

                    <div class="notices pull-right">
                        @user_id match {
                            case Some(id) => {
                                <p class="navbar-text">@UserM.getUserFullName(id) <a href = "@routes.Authentication.logout">Log out</a></p>

                            }
                            case None => {  
                                <p class ="navbar-text"><a href = "@routes.Authentication.loginScreen">Login</a></p>
                            }
                        }
                     </div>
    			</div>
    		</div>

            <!-- Messages -->
            @(flash.get("message"), flash.get("category")) match{
                        case (Some(message), Some(category)) => {


                        @category match {
                            case Helper.Error => {
                            <div class="alert alert-error">
                                <button type="button" class="close" data-dismiss="alert">&times;</button>

                                <strong>Error:</strong> @message
                            </div>
                            }
                            case Helper.Warning => {
                            <div class="alert">
                                <button type="button" class="close" data-dismiss="alert">&times;</button>

                                <strong>Warning:</strong> @message
                            </div>
                            }
                            case Helper.Success => {
                            <div class="alert alert-success">
                                <button type="button" class="close" data-dismiss="alert">&times;</button>

                                @message
                            </div>
                            }
                            case Helper.Info => {
                            <div class="alert alert-info">
                                <button type="button" class="close" data-dismiss="alert">&times;</button>

                                @message
                            </div>
                            }
                            case _ => {
                            <div class="alert alert-info">
                                <button type="button" class="close" data-dismiss="alert">&times;</button>
                                @message
                            </div>
                            }
                        }
                    }
                        case (_, _) => {}
            }

        	@content
    	</div>



        <script src="@routes.Assets.at("javascripts/bootstrap.js")" type="text/javascript"></script>

        <script type ="text/javascript">
            //For twitter bootstrap alerts
            $(".alert").alert()
        </script>
    </body>
</html>
